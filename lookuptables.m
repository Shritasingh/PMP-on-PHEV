clear all

addpath('C:\Program Files\MATLAB\casadi-windows-matlabR2016a-v3.4.5');
import casadi.*;

ngen= transpose([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;
                0,0,77,77,78,78,79,79,80,80,80,80,81,82,83,84,85,86,87,88,0;
                0,0,83,83,84,84,85,85,86,86,87,87,88,89,89,90,91,91,91,89,0;
                 0,0,84,85,86,86,87,88,88,89,89,90,90,91,91,92,92,92,92,90,0;
                 0,0,87,88,88,89,89,90,90,90,91,91,92,92,92,93,93,92,92,90,0;
                 0,0,88,89,90,90,91,91,91,91,92,92,92,93,93,93,93,93,92,90,0;
                 0,0,0,90,91,91,92,92,92,92,93,93,93,93,93,94,93,93,92,90,0;
                 0,0,0,91,91,92,92,92,93,93,93,93,93,94,94,94,94,94,93,91,0;
                 0,0,0,0,0,91,92,93,93,93,94,94,94,94,94,94,94,94,93,90,0;
                 0,0,0,0,0,0,0,92,93,93,94,94,94,94,94,94,94,94,93,90,0;
                 0,0,0,0,0,0,0,0,92,92,93,94,94,94,94,94,94,94,93,90,0;
                 0,0,0,0,0,0,0,0,0,92,92,93,94,94,94,94,94,94,93,90,0;
                 0,0,0,0,0,0,0,0,0,0,92,92,93,94,94,94,94,94,93,90,0]);
tgen= [-200,-190,-180,-170,-160,-150,-140,-130,-120,-110,-100,-90,-80,-70,-60,-50,-40,-30,-20,-10,0];            
wgen= [0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000];

lut_ngen = interpolant('LUT','bspline',{tgen, wgen},ngen(:));
%lut_ngen([-180 500])=77

nmot= transpose([69,69,69,69,69,69,69,69,69,69,69;
                 69,70,80,80,80,80,80,80,80,80,80;
                 69,80,84,84,84,84,84,84,84,84,84;
                 69,80,86,88,88,86,86,84,0,0,0;
                 69,80,84,86,86,84,80,0,0,0,0;
                 69,70,80,84,80,0,0,0,0,0,0;
                 69,70,70,70,0,0,0,0,0,0,0;
                 69,70,70,70,0,0,0,0,0,0,0]);
wmot= [0,250,500,750,1000,1250,1500,1750,2000,2250,2500];
tmot= [0,25,50,75,100,125,150,175];

lut_nmot = interpolant('LUT','bspline',{wmot, tmot},nmot(:));
%lut_nmot([250 50])=80

N=1000;
X = opti.variable(2,N+1);
